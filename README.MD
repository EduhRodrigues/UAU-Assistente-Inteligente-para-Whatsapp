# Projeto: Whats WOW - Intelligent Whatsapp Assistant
###### ⚠️status: Developing <br> 

###### Link para teste/simulação: https://abre.ai/waw-assistente-inteligente

###### <details><summary>``` O que é este projeto: ```</summary><br> Este projeto consiste em um agente de resposta automática por Whatsapp, com as seguintes funções:<br><br>Atender o Cliente: Dar as boas vindas e mostrar as opções;<br>Anotar o nome do cliente;<br>Anotar ítem do pedido: Ítem e quantidade na comanda;<br>Somar o valor do ítem;<br>Calcular o Pedido: Somar os valores dos ítens da comanda;<br>Obter dados para entrega: Endereço completo e Contato alternativo;<br>Confirmar o Pedido;<br>Formatar o Pedido estilo Cupom Fiscal;<br>Acompanhar a Entrega;<br>Finalizar Atendimento;<br>Pós Venda;<br>Localização por IP;<br>Endereço por CEP;<br>Novas idéais e funções continuam surgindo!<br> </a>
</details>

###### <details><summary>``` Como surgiu o projeto: ```</summary> <br> Este projeto surgiu da necessidade que tivemos, de atender todos os clientes do restaurante janonês que eu trabalhava; como garçom, apenas por whatsapp.<br>Isto ocorreu no início da pandemia; quando o restaurante fechou para atendimento presencial, passando a funcionar somente por delivery.<br>Naquele momento, o restaurante tinha cadastro apenas no Ifood, recebia poucos pedidos por esta plataforma, e as taxas de entrega e da plataforma diminuiam o lucro.<br>Além disso, a maioria dos pedidos eram recebidos por Whatapp.</a> <br></details>

###### <details><summary>``` Desafios do projeto: ```</summary> <br> O maior desafio foi que eu não sabia nada de programação, ainda.<br> Outro desafio foi desenvolver para o Whatsapp, que não tem integração com o Diologflow da Goolge.</a> <br>
</details>

###### <details><summary>``` O Dialogflow: ```</summary> <br> O Dialogflow é grátis, foi fácil de aprender, tem Machine Learning, é possível editar e fazer deploy do código e adicionar funções como soma de valores e busda por CEP.<br><br> A parte mais básica do assistente, como apresentar o menu, informações ou os links para o cardápio interativo; por exemplo, podem ser criados sem a necessidade de habilitar edição do código.<br>Para criar o agente no Dialogflow, é necessário criar uma conta na Google Cloud Plataform.<br><br>https://cloud.google.com/google/dialogflow<br></a>
</details>

###### <details><summary>``` Editar o código no Dialogflow: ```</summary> <br>Para poder editar o código é necessário criar uma Conta de Serviço na Google Cloud Plataform e Ativar a Conta de Faturamento, ao inserir os dados do cartão de crédito.<br>O código pode ser editado e novas funções podem ser adicionadas, e o deploy pode ser feito, tanto no próprio Dialogflow, pelo Inline Editor, quanto no Glitch; por exemplo, quanto no Visualcode. <br></a>
</details>

###### <details><summary>``` Deploy no Dialogflow: ```</summary> <br>Tempo Deploy Mínimo: 01:17s;<br>Tempo Deploy Máximo: 02:24s <br></a>
</details>

###### <details><summary>``` Editar o código no VisualCode: ```</summary><br>1 - Baixar o agente:<br>1.1 - Habilitar o Inline Editor;<br>1.2 - Clicar no ícone para download;<br>2 - Criar uma pasta com o nome do projeto;<br>3 - Extrair os arquivos do agente .zip baixado;<br>4 - Abrir o Visualcode e abrir a pasta do projeto criada.<br>5 - Conectar ao Firebase:<br>5.1 - Criar um novo projeto no firebase e confirmar Plano de Faturamento Firebase.<br>Preços Firebase: (tem nível gratuito)<br>https://firebase.google.com/pricing?authuser=0&hl=pt<br>5.2 - Criar novo fornecedor para e-mail, em métodos de autenticação de login, no console do Firebase.<br>https://console.firebase.google.com<br>6 - Abrir o terminal do Visualcode;<br>7 - comando: firebase login<br>Already logged in as ... (email)<br>8 - comando: firebase init<br>Are you ready to proceed? Y<br>9 -  Desça com a seta até:<br>( ) Hosting: Configure files for Firebase Hosting and (optionally) set up GitHub Action deploys<br>Selecione esta opção com a tecla spaço, depois Enter.<br>10 - > Use an existing project<br>11 - Selecione o projeto;<br>12 - ? What do you want to use as your public directory? (public) Enter <br>13 - ? Configure as a single-page app (rewrite all urls to /index.html)? (y/N) N<br>14 - ? Set up automatic builds and deploys with GitHub? (y/N) y <br>  Wrote public/404.html<br>  Wrote public/index.html  (criou estes dois arquivos)<br>i  Detected a .git folder at C:\...\Project_Whats-WOW<br>i  Authorizing with GitHub to upload your service account to a GitHub repository's secrets store.<br>15 - Abrirá automaticamente a página para login no Github.<br>Copie o link e cole no browser caso não abra a página de login automaticamente.<br>Success! Logged into GitHub as EduhRodrigues<br>16 - ? For which GitHub repository would you like to set up a GitHub workflow? (format: user/repository)   EduhRodrigues/Project_Whats-WOW <br>⠏ Retrieving a service account.<br>17 - ? Set up the workflow to run a build script before every deploy? (y/N)  N <br>Created workflow file C:\...\Project_Whats-WOW\.github/workflows/firebase-hosting-pull-request.yml<br>18 - ? Set up automatic deployment to your site's live channel when a PR is merged? (Y/n)  N <br>i  Action required: Visit this URL to revoke authorization for the Firebase CLI GitHub OAuth App:<br>https://github.com/settings/connections/applications/...<br>i  Action required: Push any new workflow file(s) to your repo<br>i  Writing configuration info to firebase.json...<br>i  Writing project information to .firebaserc...<br>i  Writing gitignore file to .gitignore...<br>Firebase initialization complete!<br></a>
</details>


### 

###### <details><summary>``` Deploy no Visualcode: ```</summary><br>1 - comando: firebase projects:list<br>Project Display Name │-----------Project ID   │ Project Number │ Resource Location ID<br>-------------wow-kaht │ wow-kaht (current) │ 455679832516   │ [Not specified]<br>2 - Copie o Project ID do protejo. Neste caso: wow-kaht (current)<br>3 - Entre no arquivo package.json e encontre:<br>"deploy": "firebase deploy --only functions:dialogflowFirebaseFulfillment"<br>4 - Adicione lá final, dentro das aspas, o seguinte:<br>--ProjectID<br>ProjectID é o que foi copiado anteriormente. Apenas cole, ou digite.<br>Neste caso fica assim:<br>"deploy": "firebase deploy --only functions:dialogflowFirebaseFulfillment --project wow-kaht (current)"<br>5 - Salve o arquivo.<br>6 - comando: npm run deploy<br>PS C:\...\Project_Whats-WOW><br>Pronto. Deploy concluído com sucesso.<br>Para conferir, veja as alterações feitas no Visualcode alteradas<br>no Inline Editor do Dialogflow.<br>Se o deploy ocorreu com suceeso,<br>aparece uma URL no Webhook do Fulfillment, como esta:<br>https://us-central1-wow-kaht.cloudfunctions.net/dialogflowFirebaseFulfillment<br></a> 
</details>
